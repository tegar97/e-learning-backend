{"version":3,"sources":["component/create-task/create-task-ui/create-task-ui.styles.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","component/create-task/create-task-ui/create-task-ui.component.jsx","component/create-task/create-task.component.jsx"],"names":["CreateTaskContainer","styled","div","FormContainer","form","FileInfoContainer","FileDocumentContainer","FileInfoDetailContainer","FormContainerLeft","FormContainerRight","FormGroup","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","CreateTaskUi","match","setOpen","id","params","useState","file","setFile","description","setDescription","name_task","description_task","point","task_file","due","taskField","setTaskField","selectedFile","setSelectedFile","preview","setPreview","imageType","useEffect","objectUrl","URL","createObjectURL","revokeObjectURL","undefined","handleChange","event","target","name","useMutation","CREATE_TASK","update","proxy","result","data","readQuery","query","GET_TIMELINES","variables","writeQuery","getTimeLines","CreatePost","content_title","content","type_content","class_id","CreateTask","UPLOAD_FILE","uploadFile","handleSubmit","fn","e","a","preventDefault","self","this","args","arguments","apply","err","onSubmit","TextField","onChange","style","marginTop","size","fontSize","editor","ClassicEditor","getData","type","color","files","length","includes","split","pop","src","width","height","objectFit","marginBottom","Button","variant","label","InputLabelProps","useStyles","makeStyles","theme","appBar","position","title","marginLeft","spacing","flex","Transition","React","forwardRef","props","ref","Slide","direction","classes","open","handleClose","onClick","Dialog","fullScreen","onClose","TransitionComponent","AppBar","className","Toolbar","IconButton","edge","aria-label","Typography"],"mappings":"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","file":"static/js/3.ec119a71.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\n\r\nexport const CreateTaskContainer = styled.div`\r\n  height: 100%;\r\n  margin-top: 2rem;\r\n    \r\n`\r\nexport const FormContainer = styled.form`\r\n    display: flex;\r\n    flex-direction: row;\r\n    height: 100%;\r\n    @media only screen and (max-width:900px) {\r\n        flex-direction: column;\r\n    }\r\n    \r\n\r\n`\r\nexport const FileInfoContainer = styled.div`\r\n    display : flex;\r\n    width: 100%;\r\n    margin-top: 4rem;\r\n    border:  1px solid rgba(0,0,0,.2);\r\n    border-radius: 10px;\r\n\r\n    \r\n`\r\nexport const FileDocumentContainer = styled.div`\r\n    width: 100px;\r\n    height: 100px;\r\n    margin-right: 1rem;\r\n    border : 1px solid rgba(0,0,0,.2);\r\n    display : flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\nexport const FileInfoDetailContainer = styled.div`\r\n    display : flex;\r\n    flex-direction: column;\r\n\r\n`\r\nexport const FormContainerLeft = styled.div`\r\n    width: 70%;\r\n    border-right: 1px solid rgba(0,0,0,.15);;\r\n    margin-right: 2rem;\r\n    height: 100%;\r\n    padding: 0 1rem;\r\n    @media only screen and (max-width:900px) {\r\n        width: 100%;\r\n        height: auto;\r\n\r\n\r\n    \r\n    }\r\n`\r\nexport const FormContainerRight = styled.div`\r\n    width: 30%;\r\n    height: 100%;\r\n    padding: 0 1rem;\r\n    @media only screen and (max-width:900px) {\r\n        width: 100%;\r\n\r\n        height: auto;\r\n        margin-top: 2rem;\r\n\r\n\r\n        \r\n        \r\n     \r\n\r\n    }\r\n`\r\n\r\nexport const FormGroup = styled.div`\r\n    margin-top: 1.5rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n`","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React,{useState,useEffect} from 'react'\r\nimport {CreateTaskContainer,FileInfoContainer,FileDocumentContainer,FormGroup,FileInfoDetailContainer,FormContainer,FormContainerLeft,FormContainerRight} from './create-task-ui.styles'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Button } from '@material-ui/core'\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport { useMutation } from '@apollo/client';\r\nimport { CREATE_TASK, GET_TIMELINES } from '../../../graphql/TimeLine';\r\nimport { UPLOAD_FILE } from '../../../graphql/upload';\r\nfunction CreateTaskUi({match,setOpen}) {\r\n    const id = match.params.id\r\n    \r\n  \r\n    \r\n    const [file, setFile] = useState('');\r\n    const [description,setDescription] = useState('')\r\n    \r\n    const [taskField,setTaskField] = useState({name_task : '',description_task : '', point : 100,task_file: ``,due: ``})\r\n    const [selectedFile, setSelectedFile] = useState()\r\n    const [preview, setPreview] = useState()\r\n    const [imageType,setImageType] = useState(['jpg','png','jfif',\"jpeg\"])\r\n    \r\n     // create a preview as a side effect, whenever selected file is changed\r\n     useEffect(() => {\r\n        if (!selectedFile) {\r\n            setPreview(undefined)\r\n            return\r\n        }\r\n        const objectUrl = URL.createObjectURL(selectedFile)\r\n        setPreview(objectUrl)\r\n        return () => URL.revokeObjectURL(objectUrl)\r\n    }, [selectedFile])\r\n\r\n    const onSelectFile = e => {\r\n        if (!e.target.files || e.target.files.length === 0) {\r\n            setSelectedFile(undefined)\r\n            return\r\n        }\r\n        // I've kept this example simple by using the first image instead of multiple\r\n        setSelectedFile(e.target.files[0])\r\n        setFile(e.target.files[0]);\r\n        setTaskField({ ...taskField,task_file: e.target.files[0].name})\r\n\r\n    }\r\n    const {name_task, point,due } = taskField\r\n    const handleChange = event => {\r\n        const {value ,name} = event.target;\r\n        setTaskField({ ...taskField,[name]: value })\r\n    }\r\n\r\n    const [CreateTask] = useMutation(CREATE_TASK,{\r\n        update(proxy,result){\r\n            const data = proxy.readQuery({\r\n                query: GET_TIMELINES,\r\n                variables: {id}\r\n            })\r\n            proxy.writeQuery({\r\n                query: GET_TIMELINES,\r\n                variables: {id},\r\n\r\n                data:{\r\n                    getTimeLines : [result.data.CreatePost,...data.getTimeLines]\r\n                }\r\n            })\r\n\r\n            setOpen(false)\r\n\r\n        },\r\n        variables: {\r\n            content_title : name_task,\r\n            content : description,\r\n            type_content: 'task',\r\n            point : point,\r\n            due: due,\r\n            class_id: id,\r\n            file: taskField.task_file\r\n        }\r\n    })\r\n\r\n    const [uploadFile] = useMutation(UPLOAD_FILE)\r\n    const handleSubmit  = async (e) => {\r\n        e.preventDefault();\r\n        CreateTask()\r\n        if(taskField.task_file) {\r\n            uploadFile({variables: {file }})\r\n\r\n        }\r\n\r\n    }\r\n  \r\n    return (\r\n        <CreateTaskContainer>\r\n          <FormContainer onSubmit={handleSubmit}>\r\n                <FormContainerLeft >\r\n                <FormGroup>\r\n                    <TextField  id=\"name_task\" value={name_task} onChange={handleChange} name=\"name_task\" style={{marginTop: '1rem'}} size=\"medium\" id=\"standard-basic\" variant=\"outlined\"  label=\"Judul\"     inputProps={{style: {fontSize: 15}}} // font size of input text\r\n                    InputLabelProps={{\r\n                    style: {\r\n                     fontSize: '1.3rem'\r\n                    } }} fullWidth/>\r\n                </FormGroup>\r\n                    <FormGroup>\r\n                    <CKEditor name=\"description_task\"\r\n                    editor={ ClassicEditor }\r\n                    data={description}\r\n                    id=\"description_task\"\r\n                    onChange={ ( event, editor ) => {\r\n                        const data = editor.getData();\r\n                        setDescription(data)\r\n                    } }\r\n                    \r\n                   \r\n                />\r\n                    </FormGroup>\r\n\r\n                    <TextField style={{marginTop: '1rem'}} name=\"task_file\"  type=\"file\" color=\"secondary\"\t id=\"standard-basic\"  onChange={onSelectFile}  />\r\n\r\n                    \r\n                    <FileInfoContainer>\r\n                    {selectedFile ? imageType.includes(selectedFile.name.split('.').pop())  ? \r\n\r\n                    <FileDocumentContainer> \r\n                        <img src={preview} style={{width: '100%', height: '100%',objectFit: 'cover' }}/> \r\n                    </FileDocumentContainer> : \r\n                    <FileDocumentContainer> \r\n                        <FileCopyIcon fontSize=\"large\" color=\"primary\" />\r\n                    </FileDocumentContainer> : ''}\r\n                    <FileInfoDetailContainer>\r\n                        {selectedFile && <span style={{marginBottom: '1rem' }}>{selectedFile.name}</span>}\r\n                        {selectedFile &&  <span>{selectedFile.name.split('.').pop()}</span>}\r\n                    </FileInfoDetailContainer>\r\n                \r\n                    </FileInfoContainer>\r\n                    <Button variant=\"contained\" color=\"primary\" type=\"submit\" style={{marginTop: '1rem'}} style={{color: '#ffff'}}>Submit</Button>\r\n                </FormContainerLeft>\r\n                <FormContainerRight>\r\n                    <FormGroup>\r\n                        <TextField type=\"number\"    name=\"point\" color=\"secondary\"\t id=\"point\" label=\"Nilai Maximal \"   value={point} onChange={handleChange}    InputLabelProps={{style: { fontSize: '1.3rem' } }}/>\r\n                    </FormGroup>\r\n                    <FormGroup >\r\n                        <label>Batas Waktu Tenggang</label>\r\n                        <TextField type=\"datetime-local\" name=\"due\" color=\"secondary\"\t id=\"due\"   value={due} onChange={handleChange}  />\r\n                    </FormGroup>\r\n                </FormContainerRight>\r\n              \r\n         \r\n            </FormContainer>\r\n        </CreateTaskContainer>\r\n    )\r\n}\r\n\r\nexport default CreateTaskUi\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport { Paragraph } from '../../Global-Style/Typography'\r\nimport CreateTaskUi from './create-task-ui/create-task-ui.component'\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction CreateTask({match}) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n    <div>\r\n    <AssignmentIcon  onClick={handleClickOpen} style={{color: 'var(--color-primary)',fontSize: \"4rem\"}}/>\r\n    <Paragraph size='1.1rem'> Tugas</Paragraph>\r\n    </div>\r\n    \r\n \r\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Buat Tugas\r\n            </Typography>\r\n          \r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        <CreateTaskUi setOpen={setOpen}  match={match}/>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default CreateTask"],"sourceRoot":""}